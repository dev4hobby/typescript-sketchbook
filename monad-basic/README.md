# Monad?

수학의 `카테고리 이론`이라는 분야에서 사용되는 용어이다.  
`디자인 패턴`으로서 몇 가지 인터페이스를 구현한 클래스이다.

함수형 프로그래밍 언어 `Haskel`의 `Prelude라는 표준 라이브러리에서 사용되는 용어이기도 하다.  

`Monad Rule`이라는 코드 디자인 패턴에 맞춰 구현된 클래스를 이야기하기도 한다.  
판타지랜드 규격을 보면 Functor, Apply, Applicative, Chain 네 가지 요소를 구현한 것임을 알 수 있다.

> <https://github.com/fantasyland/fantasy-land>  
> 네 가지 조건을 모두 만족한다면 그 클래스는 Monad이다.

## Monad Rule

클래스 이름이 M이고 해당 클래스의 인스턴스가 m이라면 아래와 같다.

> 왼쪽 법칙은 다음과 같다.
>
> ```javascript
> M.of(a).chain(f) == f(a)
> ```  
>
> 오른쪽 법칙은 다음과 같다.
>
> ```javascript
> m.chain(M.of) == m
> ```  

하스켈의 Prelude 표준 라이브러리는 Maybe와 같이 미리 구현된 모나드를 제공하는데 타입스크립트는 그런거 없다.  
그래서 직접 작성해보았다.

---

## `Maybe` Monad

오류일 때와 정상적일 때를 모두 고려하면서도 사용하는 코드를 간결하게 작성할 수 있도록 해준다.  
데이터의 유무에 따라 코드가 적절히 작동하도록 설계하기 위해 사용한다.

> 타입스크립트는 수를 0으로 나누면 다른 언어들처럼 DIV/0 예외가 나지 않고  
> Infinity 값을 내어주는데 이것 또한 `Number` 타입이어서 크래시가 나지 않지만..  
> 로직상의 혼동을 줄 수 있기 때문에 이런 방식의 사용은 권장하지 않는다.  

결과적으로 코드에 적용되는 값에 따라 어떤 때는 정상적이고 어떤 때는 불확실한 값이 나오는 경우  
`Maybe` 를 사용하면 매우 효율적인 방식으로 코드를 작성할 수 있습니다.  

### Just<T>

> 코드를 완벽하게 실행시키기 위한 목적의 모나드입니다.  

`monad-basic/classes/Identity.ts` 에 구현한것과 `_IMaybe` 인터페이스를 구현하여 사용합니다.  
`ISetoid` 인터페이스를 구현하지 않는다는 차이점이 있습니다.  
`Just`가 `Nothing`일 때 고려하여 `value()`가 아닌 `getOrElse(0)`과 같은 형태로 동작하는 것을 염두하여 작성합니다.

### Nothing

> Just와 다르게 코드를 완벽하게 실행시키지 않는 목적의 모나드입니다.

Work in progress..
